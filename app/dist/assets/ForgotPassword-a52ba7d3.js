import{r,u as C,j as s,F as R,w as t,H as E,T as l,x as N,L as F,b as k,B as q,y as a,I as n,C as L,E as T}from"./index-190f9d03.js";import{u as B}from"./chunk-BFUVSDI7-d53e3265.js";import{F as o}from"./chunk-7COXQURZ-bcda26dc.js";const U=()=>{const[c,g]=r.useState(""),[u,j]=r.useState(""),[i,f]=r.useState(""),[d,P]=r.useState(""),[x,S]=r.useState(null),[m]=r.useState(null),h=B(),b=C(),y=async e=>{var p,w;if(e.preventDefault(),i!==d){h({title:"Passwords do not match",description:"Please make sure both passwords are the same.",status:"error",isClosable:!0});return}try{await T.post("/api/auth/forgot-password",{email:c,username:u,newPassword:i,confirmNewPassword:d}),h({title:"Password updated successfully!",description:"You can now log in with your new password...",status:"success",isClosable:!0}),setTimeout(()=>{b("/login")},2e3)}catch(v){S(((w=(p=v.response)==null?void 0:p.data)==null?void 0:w.message)||"Error updating password")}};return s.jsx(R,{align:"center",justify:"center",children:s.jsxs(t,{spacing:8,mx:"auto",maxW:"lg",px:{base:0,md:6},children:[s.jsxs(t,{align:"center",children:[s.jsx(E,{fontSize:"4xl",textAlign:"center",children:"Reset Your Password"}),m&&s.jsx(l,{color:"green.500",children:m}),x&&s.jsx(l,{color:"red.500",children:x}),s.jsxs(N,{spacing:"1",children:[s.jsx(l,{children:"Remember your password?"}),s.jsx(F,{as:k,to:"/login",fontWeight:"500",children:"Sign in"})]})]}),s.jsx(q,{rounded:"lg",boxShadow:"lg",p:8,pt:{base:4,md:8},children:s.jsx("form",{onSubmit:y,children:s.jsxs(t,{spacing:4,children:[s.jsxs(a,{id:"email",isRequired:!0,children:[s.jsx(o,{children:"Email Address"}),s.jsx(n,{type:"email",value:c,onChange:e=>g(e.target.value)})]}),s.jsxs(a,{id:"username",isRequired:!0,children:[s.jsx(o,{children:"Username"}),s.jsx(n,{type:"text",value:u,onChange:e=>j(e.target.value)})]}),s.jsxs(a,{id:"newPassword",isRequired:!0,children:[s.jsx(o,{children:"New Password"}),s.jsx(n,{type:"password",value:i,onChange:e=>f(e.target.value)})]}),s.jsxs(a,{id:"confirmNewPassword",isRequired:!0,children:[s.jsx(o,{children:"Confirm New Password"}),s.jsx(n,{type:"password",value:d,onChange:e=>P(e.target.value)})]}),s.jsx(t,{spacing:10,alignItems:"center",children:s.jsx(L,{type:"submit",children:"Reset Password"})})]})})})]})})};export{U as default};
