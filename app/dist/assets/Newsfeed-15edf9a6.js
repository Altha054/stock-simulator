import{a2 as B,n as g,j as e,d as y,s as b,p as F,o as R,a3 as J,r as x,a4 as $,a0 as _,a5 as z,a6 as G,w as S,T as k,L as O,x as A,H as Q,a7 as U,E as K}from"./index-190f9d03.js";import{S as w,T as X}from"./chunk-RPO2WXNL-0d34f3d3.js";import{S as E}from"./chunk-2N6VWMFO-dc9323cd.js";var[Y,C]=B("Card"),W=g(function(t,i){const{className:n,...c}=t,a=C();return e.jsx(y.div,{ref:i,className:b("chakra-card__body",n),__css:a.body,...c})}),Z=g(function(t,i){const{className:n,justify:c,...a}=t,r=C();return e.jsx(y.div,{ref:i,className:b("chakra-card__footer",n),__css:{display:"flex",justifyContent:c,...r.footer},...a})}),H=g(function(t,i){const{className:n,...c}=t,a=C();return e.jsx(y.div,{ref:i,className:b("chakra-card__header",n),__css:a.header,...c})}),M=g(function(t,i){const{className:n,children:c,direction:a="column",justify:r,align:l,...f}=F(t),o=R("Card",t);return e.jsx(y.div,{ref:i,className:b("chakra-card",n),__css:{display:"flex",flexDirection:a,justifyContent:r,alignItems:l,position:"relative",minWidth:0,wordWrap:"break-word",...o.container},...f,children:e.jsx(Y,{value:o,children:c})})});function q(s,t={}){const{ssr:i=!0,fallback:n}=t,{getWindow:c}=J(),a=Array.isArray(s)?s:[s];let r=Array.isArray(n)?n:[n];r=r.filter(o=>o!=null);const[l,f]=x.useState(()=>a.map((o,h)=>({media:o,matches:i?!!r[h]:c().matchMedia(o).matches})));return x.useEffect(()=>{const o=c();f(a.map(d=>({media:d,matches:o.matchMedia(d).matches})));const h=a.map(d=>o.matchMedia(d)),u=d=>{f(v=>v.slice().map(m=>m.media===d.media?{...m,matches:d.matches}:m))};return h.forEach(d=>{typeof d.addListener=="function"?d.addListener(u):d.addEventListener("change",u)}),()=>{h.forEach(d=>{typeof d.removeListener=="function"?d.removeListener(u):d.removeEventListener("change",u)})}},[c]),l.map(o=>o.matches)}function ee(s,t,i=$){let n=Object.keys(s).indexOf(t);if(n!==-1)return s[t];let c=i.indexOf(t);for(;c>=0;){const a=i[c];if(s.hasOwnProperty(a)){n=c;break}c-=1}if(n!==-1){const a=i[n];return s[a]}}function se(s){var t,i;const n=z(s)?s:{fallback:s??"base"},a=_().__breakpoints.details.map(({minMaxQuery:o,breakpoint:h})=>({breakpoint:h,query:o.replace("@media screen and ","")})),r=a.map(o=>o.breakpoint===n.fallback),f=q(a.map(o=>o.query),{fallback:r,ssr:n.ssr}).findIndex(o=>o==!0);return(i=(t=a[f])==null?void 0:t.breakpoint)!=null?i:n.fallback}function te(s,t){var i;const n=z(t)?t:{fallback:t??"base"},c=se(n),a=_();if(!c)return;const r=Array.from(((i=a.__breakpoints)==null?void 0:i.keys)||[]),l=Array.isArray(s)?Object.fromEntries(Object.entries(G(s,r)).map(([f,o])=>[f,o])):s;return ee(l,c,r)}function ae(s){return Array(s).fill(1).map((t,i)=>i+1)}var T=3,I=s=>{const{noOfLines:t=T,spacing:i="0.5rem",skeletonHeight:n="0.5rem",className:c,startColor:a,endColor:r,isLoaded:l,fadeDuration:f,speed:o,variant:h,size:u,colorScheme:d,children:v,...m}=s,N=te(typeof t=="number"?[t]:t)||T,j=ae(N),D=p=>N>1&&p===j.length?"80%":"100%",P=b("chakra-skeleton__group",c);return e.jsx(y.div,{className:P,...m,children:j.map((p,L)=>{if(l&&L>0)return null;const V=l?null:{mb:p===j.length?"0":i,width:D(p),height:n};return e.jsx(w,{startColor:a,endColor:r,isLoaded:l,fadeDuration:f,speed:o,variant:h,size:u,colorScheme:d,...V,children:L===0?v:void 0},j.length.toString()+p)})})};I.displayName="SkeletonText";const ne=()=>e.jsxs(M,{maxW:"sm",h:"100%",children:[e.jsxs(H,{fontSize:"sm",pb:2,display:"flex",gap:"2",children:[e.jsx(w,{height:"20px",width:"100px"}),e.jsx(w,{height:"20px",width:"80px"})]}),e.jsx(W,{pt:0,children:e.jsxs(S,{spacing:4,children:[e.jsx(w,{height:"60px"}),e.jsx(I,{mt:"4",noOfLines:4,spacing:"4",skeletonHeight:"2"})]})})]});function re(s){const t=Date.now(),i=Math.floor((t-new Date(s).getTime())/1e3),n=[{name:"years",seconds:31536e3},{name:"months",seconds:2592e3},{name:"days",seconds:86400},{name:"hours",seconds:3600},{name:"minutes",seconds:60},{name:"seconds",seconds:1}];for(const c of n){const a=Math.floor(i/c.seconds);if(a>=1)return`${a} ${c.name} ago`}return"Just now"}function le(s){const[t,i]=x.useState(!0),[n,c]=x.useState([]),a=_().components.Link.baseStyle.color.split(".")[0];return x.useEffect(()=>{(async()=>{var l;try{const f=s.symbol?`/api/news/${s.symbol}`:"/api/news",o=await K.get(f);if((l=o.headers["content-type"])!=null&&l.includes("application/json")){const h=o.data;Array.isArray(h)?c(h.slice(0,9)):console.error("News data is not an array:",h)}else console.error("API did not return JSON:",o.data)}catch(f){console.error("Error fetching news:",f)}finally{i(!1)}})()},[s.symbol]),t?e.jsx(E,{spacing:1,templateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:5,children:[...Array(9)].map((r,l)=>e.jsx(ne,{},l))}):e.jsx(E,{spacing:1,templateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:5,children:n.map(r=>e.jsxs(M,{maxW:"sm",h:"100%",children:[e.jsxs(H,{fontSize:"sm",pb:2,display:"flex",gap:"2",children:[e.jsx(k,{whiteSpace:"nowrap",children:re(r.publishedAt)}),e.jsx(k,{color:a+".500",fontWeight:"500",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:r.source})]}),e.jsx(O,{href:r.sourceUrl,color:"inherit",isExternal:!0,_hover:{textDecoration:"none"},children:e.jsx(W,{pt:0,h:"100%",children:e.jsxs(A,{align:"flex-start",spacing:4,children:[e.jsxs(S,{flex:"1",children:[e.jsx(Q,{size:"sm",textOverflow:"ellipsis",display:"-webkit-box",overflow:"hidden",css:"-webkit-line-clamp: 3; -webkit-box-orient: vertical;",children:r.title}),e.jsx(k,{size:"sm",textOverflow:"ellipsis",display:"-webkit-box",overflow:"hidden",css:"-webkit-line-clamp: 6; -webkit-box-orient: vertical;",children:r.description})]}),r.url&&e.jsx(U,{src:r.url,alt:r.title,boxSize:"60px",objectFit:"cover",borderRadius:"md"})]})})}),r.symbols.length>0&&e.jsxs(Z,{as:S,children:[e.jsx(k,{fontSize:"sm",fontWeight:"500",mr:"2",children:"Symbols:"}),e.jsx(A,{flexWrap:"wrap",children:r.symbols.map(l=>e.jsx(X,{as:O,href:`/stocks/${l}`,colorScheme:a,size:"sm",children:l},l))})]})]},r.title))})}export{M as C,le as N,I as S,H as a,W as b,te as u};
