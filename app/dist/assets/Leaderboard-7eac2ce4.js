import{c as T,n as d,o as _,p as L,j as e,d as c,s as k,B as u,r as m,a0 as C,H as E,I as N,E as P}from"./index-190f9d03.js";import{S as h,T as I}from"./chunk-RPO2WXNL-0d34f3d3.js";var[R,x]=T({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),y=d((s,a)=>{const r=_("Table",s),{className:l,layout:j,...i}=L(s);return e.jsx(R,{value:r,children:e.jsx(c.table,{ref:a,__css:{tableLayout:j,...r.table},className:k("chakra-table",l),...i})})});y.displayName="Table";var f=d((s,a)=>{const r=x();return e.jsx(c.thead,{...s,ref:a,__css:r.thead})}),b=d((s,a)=>{const r=x();return e.jsx(c.tr,{...s,ref:a,__css:r.tr})}),g=d((s,a)=>{const r=x();return e.jsx(c.tbody,{...s,ref:a,__css:r.tbody})}),n=d(({isNumeric:s,...a},r)=>{const l=x();return e.jsx(c.td,{...a,ref:r,__css:l.td,"data-is-numeric":s})}),o=d(({isNumeric:s,...a},r)=>{const l=x();return e.jsx(c.th,{...a,ref:r,__css:l.th,"data-is-numeric":s})});const U=()=>e.jsxs(u,{children:[e.jsx(h,{height:"36px",width:"200px",mx:"auto",mb:4}),e.jsx(h,{height:"40px",width:"50%",mx:"auto",mb:4}),e.jsxs(y,{variant:"simple",colorScheme:"gray",children:[e.jsx(f,{children:e.jsxs(b,{children:[e.jsx(o,{p:{base:2,md:4},children:"Rank"}),e.jsx(o,{p:{base:2,md:4},children:"Username"}),e.jsx(o,{p:{base:2,md:4},children:"Portfolio Value"})]})}),e.jsx(g,{children:[...Array(10)].map((s,a)=>e.jsxs(b,{children:[e.jsx(n,{p:{base:2,md:4},children:e.jsx(h,{height:"20px",width:"30px"})}),e.jsx(n,{p:{base:2,md:4},children:e.jsx(h,{height:"20px",width:"120px"})}),e.jsx(n,{p:{base:2,md:4},children:e.jsx(h,{height:"20px",width:"100px"})})]},a))})]})]}),A=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format;function D(){const[s,a]=m.useState([]),[r,l]=m.useState(""),[j,i]=m.useState(!0);let S=C().components.Link.baseStyle.color.split(".")[0];const w=()=>{i(!0),P.get(`/api/user/leaderboard?timestamp=${Date.now()}`).then(t=>{a(t.data.users),i(!1),console.log("Fetched leaderboard data:",t.data.users)}).catch(t=>{console.log("Error fetching leaderboard data:",t),i(!1)})};m.useEffect(()=>{w()},[]);const v=s.filter(t=>t.username.toLowerCase().includes(r.toLowerCase()));return j?e.jsx(U,{}):e.jsxs(u,{className:"leaderboard",children:[e.jsx(E,{size:"lg",mb:4,textAlign:"center",children:"Leaderboard"}),e.jsx(u,{mb:4,textAlign:"center",children:e.jsx(N,{placeholder:"Search by username",value:r,onChange:t=>l(t.target.value),width:{base:"100%",md:"50%"}})}),e.jsx(u,{overflowY:"auto",maxHeight:"500px",children:e.jsxs(y,{variant:"simple",colorScheme:"gray",children:[e.jsx(f,{children:e.jsxs(b,{children:[e.jsx(o,{p:{base:2,md:4},children:"Rank"}),e.jsx(o,{p:{base:2,md:4},children:"Username"}),e.jsx(o,{p:{base:2,md:4},children:"Portfolio Value"})]})}),e.jsx(g,{children:v.map((t,p)=>e.jsxs(b,{children:[e.jsx(n,{p:{base:2,md:4},children:e.jsxs(I,{colorScheme:p===0?S:"white",children:["#",p+1]})}),e.jsx(n,{p:{base:2,md:4},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxW:5,children:t.username}),e.jsx(n,{p:{base:2,md:4},children:A(t.value)})]},p))})]})})]})}export{D as default};
